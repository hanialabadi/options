CLI-based pipeline validation with theory-first approach
No UI dependency â€¢ RAG-backed validation â€¢ Execution-last design

ğŸ“¦ Running Steps 1-6 via scan_pipeline...
ğŸ“Š Step 2: Loading IV/HV snapshot...
âœ… Loaded snapshot: /Users/haniabadi/Documents/Windows/OptionsSnapshots/fidelity_ivhv_snapshot.csv (175 rows, 115 cols)
âš ï¸ Snapshot is 2986.0 hours old (threshold: 48h). Data may be stale.
âœ… Fixed data types for 8 HV columns
âœ… Calculated IV_Rank_30D (per-ticker percentile)
âœ… Classified IV term structure
âœ… Detected IV_Trend_7D
âœ… Detected HV_Trend_30D
âœ… Step 2 complete: 175 tickers loaded and enriched
ğŸ“Š Step 3: Filtering by IVHV gap...
ğŸ“Š Liquidity filter: 175 â†’ 169 rows (IV â‰¥ 15, HV > 0)
ğŸ“Š Gap statistics before flag calculation:
   - IVHV_gap_30D range: -64.82 to 28.36
   - IVHV_gap_30D mean: -3.82
   - Non-NaN count: 169 / 169
ğŸ“Š Flag counts (before filtering):
   - ShortTerm_IV_Edge: 127
   - ShortTerm_IV_Rich: 46
   - ShortTerm_IV_Cheap: 81
âœ… After dedup: 127 unique tickers
ğŸ“‰ Mean reversion pattern detected: 8 tickers
ğŸ“ˆ Expansion pattern detected: 13 tickers
âœ… IVHV filtering complete: 127 tickers qualified
ğŸ“Š Step 5: Computing chart signals...
âœ… Step 5: 127 rows, all required columns present
âœ… Chart processing: 127 tickers charted (0 skipped)
âœ… Merge complete: 127 rows
ğŸ“Š Step 6: Validating data quality...
âœ… Step 6: 127 rows, all required columns present
ğŸ“Š Universal data completeness: 127/127 tickers
ğŸ“Š Directional data completeness: 127/127 tickers
ğŸ“Š Income-strategy ready (universal only): 0 tickers
â±ï¸ Crossover age distribution: {'Age_16_plus': 82, 'Age_6_15': 26, 'Age_0_5': 19}
âœ… Step 6 complete: Returning all 127 tickers with data quality indicators
ğŸ¯ Step 7: Generating strategy recommendations...
âœ… Step 7: 127 rows, all required columns present
ğŸ¯ Step 7: Generating strategies for 127/127 tickers with complete data
ğŸ“Š Strategy distribution: {'Directional': 127}
ğŸ¯ Trade bias: {'Bullish': 85, 'Bearish': 42}
â­ High priority entries: 49/127
ğŸšï¸ Confidence: High=49, Medium=78, Low=0
ğŸ“ˆ Average success probability: 65.35%
ğŸ”’ TIER-1 FILTER: 127/127 strategies are Tier-1 (executable)
   Non-Tier-1 strategies excluded for safety (use exploration_mode=True to see all)
âœ… Step 7: Final dtypes - {'Primary_Strategy': string[python], 'Secondary_Strategy': string[python], 'Strategy_Type': string[python], 'Confidence': dtype('float64'), 'Success_Probability': dtype('float64'), 'Trade_Bias': string[python], 'Entry_Priority': string[python], 'Risk_Level': string[python], 'Strategy_Tier': dtype('int64'), 'EXECUTABLE': dtype('bool')}
âš ï¸ Column 'Strategy_Tier' has dtype int64, expected string
âš ï¸ Column 'EXECUTABLE' has dtype bool, expected string
âœ… Arrow compatibility validated for 10 columns
âœ… Step 7 complete: 127 tickers with strategy recommendations
ğŸ’° Step 8: Calculating position sizing...
âœ… Step 8: 127 rows, all required columns present
ğŸ’° Step 8: Sizing 127 positions | Method: volatility_scaled | Account: $100,000
âš ï¸ Portfolio heat exceeded ($173800 > $20000). Scaling by 0.12
ğŸ“Š Position Sizing Summary:
   Valid positions: 127/127
   Total allocation: $20,000 (20.0%)
   Total risk: $20,000 (20.0% of account)
   Max allowed risk: $20,000 (20%)
   Total contracts: 273
   Average R:R ratio: 2.12
   By strategy type: {'Directional': 127}
/Users/haniabadi/Documents/Github/options/core/scan_engine/step8_position_sizing.py:187: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value '[149.5972382  161.10471807 149.5972382  149.5972382  149.5972382
 184.11967779 161.10471807 149.5972382  149.5972382  149.5972382
 161.10471807 149.5972382  184.11967779 149.5972382  149.5972382
 149.5972382  149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  161.10471807 149.5972382  184.11967779
 161.10471807 184.11967779 149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  184.11967779 184.11967779 161.10471807
 149.5972382  149.5972382  161.10471807 161.10471807 161.10471807
 161.10471807 149.5972382  149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  184.11967779 149.5972382  149.5972382
 161.10471807 149.5972382  149.5972382  149.5972382  149.5972382
 161.10471807 161.10471807 149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807 161.10471807 161.10471807 161.10471807
 184.11967779 184.11967779 149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807 184.11967779 149.5972382  161.10471807
 184.11967779 149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  149.5972382  161.10471807 149.5972382
 149.5972382  184.11967779 149.5972382  149.5972382  149.5972382
 184.11967779 149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  149.5972382  184.11967779 184.11967779
 149.5972382  161.10471807 149.5972382  184.11967779 149.5972382
 184.11967779 149.5972382  149.5972382  149.5972382  149.5972382
 184.11967779 161.10471807 184.11967779 149.5972382  161.10471807
 149.5972382  149.5972382  149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807]' has dtype incompatible with int64, please explicitly cast to a compatible dtype first.
  df.update(df_trades)
/Users/haniabadi/Documents/Github/options/core/scan_engine/step8_position_sizing.py:187: FutureWarning: Setting an item of incompatible dtype is deprecated and will raise in a future error of pandas. Value '[149.5972382  161.10471807 149.5972382  149.5972382  149.5972382
 184.11967779 161.10471807 149.5972382  149.5972382  149.5972382
 161.10471807 149.5972382  184.11967779 149.5972382  149.5972382
 149.5972382  149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  161.10471807 149.5972382  184.11967779
 161.10471807 184.11967779 149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  184.11967779 184.11967779 161.10471807
 149.5972382  149.5972382  161.10471807 161.10471807 161.10471807
 161.10471807 149.5972382  149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  184.11967779 149.5972382  149.5972382
 161.10471807 149.5972382  149.5972382  149.5972382  149.5972382
 161.10471807 161.10471807 149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807 161.10471807 161.10471807 161.10471807
 184.11967779 184.11967779 149.5972382  161.10471807 149.5972382
 149.5972382  149.5972382  149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807 184.11967779 149.5972382  161.10471807
 184.11967779 149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  149.5972382  161.10471807 149.5972382
 149.5972382  184.11967779 149.5972382  149.5972382  149.5972382
 184.11967779 149.5972382  161.10471807 149.5972382  149.5972382
 149.5972382  149.5972382  149.5972382  184.11967779 184.11967779
 149.5972382  161.10471807 149.5972382  184.11967779 149.5972382
 184.11967779 149.5972382  149.5972382  149.5972382  149.5972382
 184.11967779 161.10471807 184.11967779 149.5972382  161.10471807
 149.5972382  149.5972382  149.5972382  149.5972382  149.5972382
 149.5972382  161.10471807]' has dtype incompatible with int64, please explicitly cast to a compatible dtype first.
  df.update(df_trades)
âœ… Step 8 complete: 127/127 valid positions
ğŸ“… Step 9A: Determining optimal option timeframes...
âœ… Step 9A: 127 rows, all required columns present
ğŸ¯ Step 9A: Determining optimal DTE ranges for 127 tickers
ğŸ“Š Step 9A Summary:
   Timeframe distribution: {'Medium': 108, 'Short-Medium': 19}
   Average DTE range: 55-85 days (preferred: 70)
   Shortest window: 30-60 days
   Longest window: 60-90 days
âœ… Step 9A complete: DTE ranges determined for 127 positions
ğŸ”— Step 9B: Fetching option chains and selecting contracts...
âœ… TIER-1 VALIDATION PASSED: All 127 strategies are Tier-1 (executable)
ğŸ“Š Step 9B Execution Gate:
   Tier-1 strategies validated: 127
   Proceeding to fetch option chains...
ğŸ” Scanning option chains for 127 Tier-1 strategies...
ğŸ“Š BKNG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… BKNG: Selected 2026-03-20 (DTE=82) with strikes [5400.0]
ğŸ“Š AZO: Fetching chains for DTE range 45-60 days (preferred: 52) (Covered Call (if holding stock))
âš ï¸ AZO: No liquid contracts found (DTE=54, min_oi=50, max_spread=10.0%)
ğŸ“Š MELI: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MELI: Selected 2026-03-20 (DTE=82) with strikes [2140.0]
ğŸ“Š MKL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ MKL: No expirations found in DTE range 60-90
ğŸ“Š FCNCA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ FCNCA: No expirations found in DTE range 60-90
ğŸ“Š FICO: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Put)
âš ï¸ FICO: No liquid contracts found (DTE=54, min_oi=50, max_spread=10.0%)
ğŸ“Š TDG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ TDG: No expirations found in DTE range 60-90
ğŸ“Š MTD: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ MTD: No expirations found in DTE range 60-90
ğŸ“Š TPL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ TPL: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š GWW: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ GWW: No expirations found in DTE range 60-90
ğŸ“Š COST: Fetching chains for DTE range 45-60 days (preferred: 52) (Covered Call (if holding stock))
No underlying_price in chain data, using strike midpoint as fallback
âœ… COST: Selected 2026-02-20 (DTE=54) with strikes [np.float64(910.0)]
ğŸ“Š KLAC: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… KLAC: Selected 2026-03-20 (DTE=82) with strikes [1140.0]
ğŸ“Š AXON: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ AXON: No suitable strikes found for Long Call
ğŸ“Š INTU: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… INTU: Selected 2026-03-20 (DTE=82) with strikes [680.0]
ğŸ“Š LLY: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… LLY: Selected 2026-03-20 (DTE=82) with strikes [920.0]
ğŸ“Š SPOT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… SPOT: Selected 2026-03-20 (DTE=82) with strikes [610.0]
ğŸ“Š URI: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… URI: Selected 2026-03-20 (DTE=82) with strikes [810.0]
ğŸ“Š MPWR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MPWR: Selected 2026-03-20 (DTE=82) with strikes [940.0]
ğŸ“Š META: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… META: Selected 2026-03-20 (DTE=82) with strikes [665.0]
ğŸ“Š MCK: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MCK: Selected 2026-03-20 (DTE=82) with strikes [800.0]
ğŸ“Š GS: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… GS: Selected 2026-03-20 (DTE=82) with strikes [810.0]
ğŸ“Š TYL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ TYL: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š MSCI: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ MSCI: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š LII: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ LII: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š CHE: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ CHE: No liquid contracts found (DTE=54, min_oi=50, max_spread=10.0%)
ğŸ“Š MA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MA: Selected 2026-03-20 (DTE=82) with strikes [550.0]
ğŸ“Š FIX: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ FIX: No liquid contracts found (DTE=54, min_oi=50, max_spread=10.0%)
ğŸ“Š ISRG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ISRG: Selected 2026-03-20 (DTE=82) with strikes [520.0]
ğŸ“Š IDXX: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ IDXX: No expirations found in DTE range 60-90
ğŸ“Š AMP: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ AMP: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š REGN: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… REGN: Selected 2026-03-20 (DTE=82) with strikes [650.0]
ğŸ“Š GEV: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… GEV: Selected 2026-03-20 (DTE=82) with strikes [620.0]
ğŸ“Š DE: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Put)
âš ï¸ DE: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š TDY: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ TDY: No liquid contracts found (DTE=54, min_oi=50, max_spread=10.0%)
ğŸ“Š CASY: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ CASY: No expirations found in DTE range 60-90
ğŸ“Š CACC: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ CACC: No expirations found in DTE range 60-90
ğŸ“Š SNPS: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… SNPS: Selected 2026-03-20 (DTE=82) with strikes [470.0]
ğŸ“Š NOC: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… NOC: Selected 2026-03-20 (DTE=82) with strikes [570.0]
ğŸ“Š KNSL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ KNSL: No expirations found in DTE range 60-90
ğŸ“Š LIN: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… LIN: Selected 2026-03-20 (DTE=82) with strikes [430.0]
ğŸ“Š LMT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… LMT: Selected 2026-03-20 (DTE=82) with strikes [470.0]
ğŸ“Š ULTA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ULTA: Selected 2026-03-20 (DTE=82) with strikes [570.0]
ğŸ“Š GPI: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ GPI: No expirations found in DTE range 60-90
ğŸ“Š WSO: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ WSO: No suitable strikes found for Long Put
ğŸ“Š TT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ TT: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š CVCO: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ CVCO: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š DUOL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… DUOL: Selected 2026-03-20 (DTE=82) with strikes [200.0]
ğŸ“Š TMO: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ TMO: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š MUSA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ MUSA: No expirations found in DTE range 60-90
ğŸ“Š HUBB: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ HUBB: No suitable strikes found for Long Call
ğŸ“Š IT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… IT: Selected 2026-03-20 (DTE=82) with strikes [240.0]
ğŸ“Š CHTR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CHTR: Selected 2026-03-20 (DTE=82) with strikes [230.0]
ğŸ“Š SYK: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… SYK: Selected 2026-03-20 (DTE=82) with strikes [370.0]
ğŸ“Š ADBE: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ADBE: Selected 2026-03-20 (DTE=82) with strikes [340.0]
ğŸ“Š ELV: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ELV: Selected 2026-03-20 (DTE=82) with strikes [330.0]
ğŸ“Š PWR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ PWR: No suitable strikes found for Long Put
ğŸ“Š HCA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… HCA: Selected 2026-03-20 (DTE=82) with strikes [465.0]
ğŸ“Š CSL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ CSL: No suitable strikes found for Long Call
ğŸ“Š HD: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… HD: Selected 2026-03-20 (DTE=82) with strikes [360.0]
ğŸ“Š LPLA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ LPLA: No expirations found in DTE range 60-90
ğŸ“Š ETN: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ETN: Selected 2026-03-20 (DTE=82) with strikes [320.0]
ğŸ“Š AON: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
âš ï¸ AON: No liquid contracts found (DTE=82, min_oi=25, max_spread=15.0%)
ğŸ“Š WAT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
âš ï¸ WAT: No expirations found in DTE range 60-90
ğŸ“Š V: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… V: Selected 2026-03-20 (DTE=82) with strikes [335.0]
ğŸ“Š WING: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… WING: Selected 2026-03-20 (DTE=82) with strikes [270.0]
ğŸ“Š NVDA: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… NVDA: Selected 2026-02-06 (DTE=40) with strikes [180.0]
ğŸ“Š AMZN: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ AMZN: No suitable strikes found for Long Call
ğŸ“Š GOOG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… GOOG: Selected 2026-03-20 (DTE=82) with strikes [270.0]
ğŸ“Š AVGO: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… AVGO: Selected 2026-03-20 (DTE=82) with strikes [320.0]
ğŸ“Š TSLA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… TSLA: Selected 2026-03-20 (DTE=82) with strikes [380.0]
ğŸ“Š JPM: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… JPM: Selected 2026-03-20 (DTE=82) with strikes [290.0]
ğŸ“Š WMT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… WMT: Selected 2026-03-20 (DTE=82) with strikes [92.5]
ğŸ“Š ORCL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ORCL: Selected 2026-03-20 (DTE=82) with strikes [190.0]
ğŸ“Š PG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… PG: Selected 2026-03-20 (DTE=82) with strikes [145.0]
ğŸ“Š JNJ: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… JNJ: Selected 2026-03-20 (DTE=82) with strikes [175.0]
ğŸ“Š PLTR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… PLTR: Selected 2026-03-20 (DTE=82) with strikes [145.0]
ğŸ“Š PM: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… PM: Selected 2026-03-20 (DTE=82) with strikes [160.0]
ğŸ“Š UNH: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Put)
âš ï¸ UNH: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š CSCO: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CSCO: Selected 2026-03-20 (DTE=82) with strikes [70.0]
ğŸ“Š GE: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… GE: Selected 2026-03-20 (DTE=82) with strikes [270.0]
ğŸ“Š IBM: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ IBM: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š TMUS: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… TMUS: Selected 2026-03-20 (DTE=82) with strikes [200.0]
ğŸ“Š CRM: Fetching chains for DTE range 45-60 days (preferred: 52) (Cash-Secured Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CRM: Selected 2026-02-20 (DTE=54) with strikes [260.0]
ğŸ“Š WFC: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… WFC: Selected 2026-03-20 (DTE=82) with strikes [75.0]
ğŸ“Š ABT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ABT: Selected 2026-03-20 (DTE=82) with strikes [120.0]
ğŸ“Š AMD: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… AMD: Selected 2026-03-20 (DTE=82) with strikes [175.0]
ğŸ“Š MS: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MS: Selected 2026-03-20 (DTE=82) with strikes [155.0]
ğŸ“Š T: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… T: Selected 2026-03-20 (DTE=82) with strikes [24.0]
ğŸ“Š ACN: Fetching chains for DTE range 45-60 days (preferred: 52) (Cash-Secured Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ACN: Selected 2026-02-20 (DTE=54) with strikes [265.0]
ğŸ“Š UBER: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… UBER: Selected 2026-03-20 (DTE=82) with strikes [80.0]
ğŸ“Š TXN: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… TXN: Selected 2026-03-20 (DTE=82) with strikes [175.0]
ğŸ“Š PEP: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Put)
âš ï¸ PEP: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š QCOM: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… QCOM: Selected 2026-03-20 (DTE=82) with strikes [165.0]
ğŸ“Š BA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… BA: Selected 2026-03-20 (DTE=82) with strikes [185.0]
ğŸ“Š PGR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âš ï¸ PGR: No suitable strikes found for Long Call
ğŸ“Š AMGN: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ AMGN: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š SHOP: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… SHOP: Selected 2026-03-20 (DTE=82) with strikes [145.0]
ğŸ“Š HON: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… HON: Selected 2026-03-20 (DTE=82) with strikes [195.0]
ğŸ“Š AMAT: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… AMAT: Selected 2026-03-20 (DTE=82) with strikes [210.0]
ğŸ“Š NEE: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… NEE: Selected 2026-03-20 (DTE=82) with strikes [77.5]
ğŸ“Š DHR: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… DHR: Selected 2026-03-20 (DTE=82) with strikes [210.0]
ğŸ“Š MU: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MU: Selected 2026-03-20 (DTE=82) with strikes [210.0]
ğŸ“Š UNP: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… UNP: Selected 2026-03-20 (DTE=82) with strikes [240.0]
ğŸ“Š GILD: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ GILD: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š PFE: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Put)
âš ï¸ PFE: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š PANW: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… PANW: Selected 2026-03-20 (DTE=82) with strikes [180.0]
ğŸ“Š CMCSA: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CMCSA: Selected 2026-03-20 (DTE=82) with strikes [32.5]
ğŸ“Š LOW: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… LOW: Selected 2026-03-20 (DTE=82) with strikes [240.0]
ğŸ“Š ANET: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ ANET: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š CRWD: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CRWD: Selected 2026-03-20 (DTE=82) with strikes [450.0]
ğŸ“Š APH: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… APH: Selected 2026-02-20 (DTE=54) with strikes [135.0]
ğŸ“Š ADI: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… ADI: Selected 2026-03-20 (DTE=82) with strikes [260.0]
ğŸ“Š COP: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… COP: Selected 2026-03-20 (DTE=82) with strikes [90.0]
ğŸ“Š VRTX: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… VRTX: Selected 2026-03-20 (DTE=82) with strikes [450.0]
ğŸ“Š GOOGL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… GOOGL: Selected 2026-03-20 (DTE=82) with strikes [270.0]
ğŸ“Š QQQ: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… QQQ: Selected 2026-02-06 (DTE=40) with strikes [620.0]
ğŸ“Š XLE: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… XLE: Selected 2026-03-20 (DTE=82) with strikes [41.5]
ğŸ“Š XLK: Fetching chains for DTE range 30-60 days (preferred: 45) (Long Call)
âš ï¸ XLK: No liquid contracts found (DTE=40, min_oi=50, max_spread=10.0%)
ğŸ“Š XLP: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… XLP: Selected 2026-03-20 (DTE=82) with strikes [75.0]
ğŸ“Š SMH: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… SMH: Selected 2026-03-20 (DTE=82) with strikes [315.0]
ğŸ“Š DKNG: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… DKNG: Selected 2026-03-20 (DTE=82) with strikes [37.5]
ğŸ“Š COIN: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… COIN: Selected 2026-03-20 (DTE=82) with strikes [220.0]
ğŸ“Š U: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… U: Selected 2026-03-20 (DTE=82) with strikes [42.0]
ğŸ“Š PYPL: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… PYPL: Selected 2026-03-20 (DTE=82) with strikes [65.0]
ğŸ“Š BIDU: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… BIDU: Selected 2026-03-20 (DTE=82) with strikes [120.0]
ğŸ“Š MDB: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Call)
No underlying_price in chain data, using strike midpoint as fallback
âœ… MDB: Selected 2026-03-20 (DTE=82) with strikes [360.0]
ğŸ“Š CLS: Fetching chains for DTE range 60-90 days (preferred: 75) (Long Put)
No underlying_price in chain data, using strike midpoint as fallback
âœ… CLS: Selected 2026-03-20 (DTE=82) with strikes [270.0]
ğŸ“Š Step 9B Summary:
   Status distribution: {'Success': 84, 'Low_Liquidity': 23, 'No_Expirations': 13, 'No_Suitable_Strikes': 7}
   Successful selections: 84/127
   Average DTE: 80 days
   Average OI: 2191
   Average spread: 6.35%
âŒ Step 9B failed: name 'tier2_plus' is not defined
âš ï¸ Step 10 skipped: No selected contracts from Step 9B
âš ï¸ Step 11 skipped: No filtered contracts from Step 10
âœ… Exports complete â†’ output
âŒ Pipeline failed - no Step 6 output
   Available keys: ['snapshot', 'filtered', 'charted', 'validated_data', 'recommendations', 'sized_positions', 'timeframed_positions', 'selected_contracts', 'filtered_contracts', 'final_strategies']

====================================================================================================
TIER-1 STRATEGY THEORY AUDIT
====================================================================================================

